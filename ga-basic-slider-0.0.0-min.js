/*!
 * gaBasicSlider v0.0.0
 * Licensed under the MIT license - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2015 Greg Arutunyan
 */
(function(b){function a(s,g){var C=b.extend({},b.fn.gaBasicSlider.defaults,g);var c=0;var D=null;var n=null;touchXStart=null;touchXCurrent=null;touchYStart=null;touchYCurrent=null;docWidth=b(document).width();var o=s.children();var e=o.length;var r=null;function A(){t();if(C.indicators){d();u()}G();j();p()}var H={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(I){var K=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var J in K){if(I.style[K[J]]!==undefined){return true}}return false})(document.createElement("swipe"))};function d(){function I(K){b(this).on("click",{index:K},function(N){var M=b(this);var L=M.attr("data-ga-bs-bypass-url");if(L){window.location=L}else{v();i(N.data.index*-1)}N.preventDefault()}).css("cursor","pointer")}if(!C.indicators.children().length){for(var J=0;J<e;J++){C.indicators.append('<span class="ga-bs-indicator">&bull;</span>')}}r=C.indicators.children();r.each(I)}function u(){if(C.indicators){r.removeClass("ga-bs-active");r.eq(c*-1).addClass("ga-bs-active")}}function B(){if(C.btnNext){C.btnNext.addClass("ga-bs-active").css("cursor","pointer")}if(C.btnPrevious){if(k()){C.btnPrevious.addClass("ga-bs-active").css("cursor","pointer")}else{C.btnPrevious.removeClass("ga-bs-active").css("cursor","auto")}}}function j(){if(C.btnNext){C.btnNext.on("click",function(){i(w())});C.btnNext.on("mouseover",l);C.btnNext.on("mouseout",p)}if(C.btnPrevious){C.btnPrevious.on("click",function(){i(f())});C.btnPrevious.on("mouseover",l);C.btnPrevious.on("mouseout",p)}B()}function x(){return c>((e-1)*-1)}function k(){return c<0}function w(I){var J=c-1;if(J<((e-1)*-1)){if(I){J=(e-1)*-1}else{J=0}}return J}function f(){var I=c+1;if(I>0){I=0}return I}function q(){var I=touchXCurrent-touchXStart;if(I>C.touchBounceBackThreshold){i(f(),true)}else{if(I<(C.touchBounceBackThreshold*-1)){i(w(true),true)}else{i(c,true)}}touchXStart=null;touchXCurrent=null;touchYStart=null;touchYCurrent=null;touchDirection=null;s[0].removeEventListener("touchmove",m);s[0].removeEventListener("touchend",F);s[0].removeEventListener("touchstart",y);G()}function z(L){var J=touchXCurrent-touchXStart;var I=0;for(var K=0;K<L.childNodes.length;K++){node=L.childNodes[K];if(node.style){var M=J/docWidth;M=(M*100)+(I*100)+(c*100);node.style.webkitTransition="-webkit-transform 0ms";node.style.webkitTransform="translate3d("+M+"%, 0, 0)";I++}}}function E(){var J=touchXCurrent-touchXStart;var I=touchYCurrent-touchYStart;if(Math.abs(I)>Math.abs(J)){return false}else{return true}}function y(I){v();if(I.touches.length>1){q()}else{if(I.touches.length==1){touchXStart=I.targetTouches[0].pageX;touchYStart=I.targetTouches[0].pageY;touchXCurrent=touchXStart;touchYCurrent=touchYStart;s[0].addEventListener("touchmove",m,false);s[0].addEventListener("touchend",F,false)}}}function m(I){if(I.touches.length>1){q()}else{if(I.touches.length==1){touchXCurrent=I.targetTouches[0].pageX;touchYCurrent=I.targetTouches[0].pageY;if(E()){I.preventDefault();z(this)}else{q()}}}}function F(I){q()}function G(){if(s[0].addEventListener){s[0].addEventListener("touchstart",y,false)}}function t(){s.css({position:"relative",overflow:"hidden"});o.each(function(I){var J=b(this);J.on("mouseover",function(K){l()});J.on("mouseout",function(K){p()})});o.css({width:"100%",display:"block",position:"absolute",top:"0",left:"0","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box","-webkit-backface-visibility":"hidden"});o.eq(0).css("position","relative");if(H.transitions&&H.touch){o.each(function(I){b(this).css({"-webkit-transform":"translate3d("+I*100+"%, 0, 0)","-moz-transform":"translate3d("+I*100+"%, 0, 0)","-o-transform":"translateX("+I*100+"%)","-ms-transform":"translate3d("+I*100+"%, 0, 0)",transform:"translate3d("+I*100+"%, 0, 0)"})})}else{o.each(function(I){b(this).css({left:I*100+"%"})})}}function i(J,I){if(c==J&&!I){return false}o.css({"z-index":1});o.eq((c*-1)).css({"z-index":2});o.each(function(M){var L=(M+J)*100;if(H.transitions&&H.touch){o.eq(M).css({"-webkit-transition":"-webkit-transform "+C.animationTime+"ms","-webkit-transform":"translate3d("+L+"% , 0, 0)","-moz-transition":"-moz-transform "+C.animationTime+"ms","-moz-transform":"translate3d("+L+"% , 0, 0)","-o-transition":"-o-transform "+C.animationTime+"ms","-o-transform":"translateX("+L+"%)","-ms-transition":"-ms-transform "+C.animationTime+"ms","-ms-transform":"translate3d("+L+"% , 0, 0)",transition:"transform "+C.animationTime+"ms",transform:"translate3d("+L+"% , 0, 0)"})}else{var K="-100%";if(c>J){K="100%"}if((M*-1)==J){o.eq(M).stop().css({"z-index":3,left:c>J?"100%":"-100%"}).animate({left:"0%"},C.animationTime)}}});c=J;B();u()}function p(){if(C.animate){clearInterval(D);clearTimeout(n);D=setInterval(function(){i(w())},C.animationDelay)}}function v(){clearInterval(D);clearTimeout(n);n=setTimeout(p,C.animationDelay*2)}function l(){clearInterval(D);clearTimeout(n)}function h(){C.animate=true;p()}this.stop=l;this.start=h;A()}b.fn.gaBasicSlider=function(c,e){var f=b(this);this.each(function(){if(!f.data("gaBasicSlider")){f.data("gaBasicSlider",new a(f,c))}});var d=f.data("gaBasicSlider");if(d){switch(c){case"start":d.start();break;case"stop":d.stop();break}}return this};b.fn.gaBasicSlider.defaults={animate:true,animationDelay:6000,animationTime:300,indicators:null,btnNext:null,btnPrevious:null,touchBounceBackThreshold:80}})(jQuery);